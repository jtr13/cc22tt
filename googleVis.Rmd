# googleVis in R

Sushant Prabhu, Kiyan Mohebbizadeh

```{r}
library(googleVis)
library(tidyverse)
library(datasets)
```


## Introducing googleVis

Googlevis is a package in R that allows users of R to use the Google Charts API. The interface between R and Google Charts allows users to access Google Charts' interactive charts. GoogleVis allows users to use the data in R data frames to create Google Charts without uploading the data onto Google. 


### Why googleVis
- googleVis package allows users to create interactive visualizations which R's most popular visualization package (ggplot) does not allow.
- Although there are packages that work in conjunction with ggplot to make interactive visualizations, googleVis offers a holistic package that allows for some unique and interactive visualizations.
- By using Google Charts, one is able to create a wide variety of visualizations ranging from typical bar and line graphs to mapping and timeline charts all from one package. 
- The visualizations created by googleVis add a level of interest to the consumer due to their interactive layer and viewers are able to gather specific bits of information by hovering over and clicking values in the visualizations. This not only allows for increased aesthetics, but also more information being transferred to the viewers.


##### googleVis rendering

* The output of googleVis can either be embedded into an HTML file or read dynamically. These visualizations are most often rendered online and in a web format. Therefore, a browser and internet connection are required to view the interactive version of the output. 

* For use in R, googleVis allows a user to render as a *Shiny* file that then allows
a preview with interaction within R. This is used to preview a chart before a final
render.

* googleVis is a package in R that allows users of R to use the Google Charts API.

* The interface between R and Google Charts allows users to access Google Charts' interactive charts.

* googleVis allows users to use the data in R data frames to create Google Charts without uploading the data onto Google. 


##### googleVis Basic Graphs with Interaction
```{r}
df = data.frame(pet=c('cat', 'dog', 'hamster', 'snake'),
                monthly_food_cost=c(50, 100, 10, 40),
                monthly_medical_cost=c(30, 60, 5, 50))
Line <- gvisLineChart(df)

Bar <- gvisBarChart(df)

Column <- gvisColumnChart(df)

SteppedArea <- gvisSteppedAreaChart(df, xvar="pet", 
                                    yvar=c("monthly_food_cost", "monthly_medical_cost"),
                                    options=list(isStacked=TRUE))

Combo <- gvisComboChart(df, xvar="pet",
                        yvar=c("monthly_food_cost", "monthly_medical_cost"),
                        options=list(seriesType="bars",
                                     series='{1: {type:"line"}}'))
```

The above charts are best used in comparisons between groups. As seen in the examples, there are comparisons between costs of owning different pets.

- The line graph shows how different variables flow within and among groups. The audience is able to determine within group trends by seeing where lines intersect within each group. Showing the up and down trends of these variables with lines between groups allows us to make comparisons among the various groups with clarity.By organizing the variables in a certain way, one is able to get a sense of population trends.

- The bar and column chart are essentially the same just rotated on an axis. They allow for great in group comparisons as well as comparisons among groups. However, These charts are best used for in-group comparisons.

- Combo charts are great for multiple variable comparisons and allow the user to get the best of both worlds. by carefully selecting which variables are represented in bars and which ones are lines, the user is able to best show the relationship within groups and trends of the population.

```{r}
df <- iris

Histogram <- gvisHistogram(data.frame(df$Sepal.Width))
              
```

The histogram allows users to represent the distribution of one particular group or variable by showing the frequency of the particular group or variable within a range. The charts by googleVis have an advantage over regular histograms because almost no histogram allows or recommends specific information regarding the counts at different points in the visualization, however, with googleVis the audience can not only look at the distribution but access specific metrics through interaction as well.

```{r}
df <- data.frame(From=c(rep("Math",3), rep("Science", 3)),
                    To=c(rep(c('Lunch', 'Art', 'Music'),2)),
                    Weight=c(17,15,13,5,12,8))

Alluvial <- gvisSankey(df, from="From", to="To", weight="Weight")
              
```

Alluvial charts best show the movement of the sample or population among different variables. In the example above the movement of students within a school from class to class is represented. This visualization can be helpful with data that has an ordinal and timeline specific values. With googleVis, the audience is exposed to the general trends with a clean looking chart as well as the specifics of the graph through interaction.

##### googleVis Geo chart

```{r}
df = data.frame(country=c('US', 'CN', 'BR', 'IS', 'RU', 'TH', 'TR', 'ID', 'MX', 'IR' ),
                incarceration_rate = c(2068800, 1690000, 811707, 478600, 471490, 309282, 291198, 266259, 220866, 189000))

G <- gvisGeoChart(df, locationvar = "country", colorvar = "incarceration_rate")
              
```

##### googleVis Gauge chart

```{r}
temperature <- data.frame(city=c('Las Vegas', 'Los Angeles', 'Pheonix', 'Dallas', 'Houston', 'Miami'),
                          temp=c(115, 103, 120, 110, 112, 101))
Gauge <-  gvisGauge(temperature, 
                    options=list(min=0, max=150, greenFrom=0,
                                 greenTo=50, yellowFrom=50, yellowTo=100,
                                 redFrom=100, redTo=150, width=400, height=300))

```

The gauge charts are not interactive, however they do offer a unique way to model data that is always within a certain range. For example, temperatures, speeds, pressure, etc. This chart allows for quick comparison between groups and aesthetic value to any presentation.

##### googleVis Tabular Charts
Sushant
##### googleVis Tree Map/Chart
Sushant
##### googleVis Annotation
Sushant
##### googleVis Calender Chart
Sushant
##### googleVis Timline Chart
Sushant
##### googleVis Gantt Chart
Sushant
##### googleVis Merging Charts
Sushant
